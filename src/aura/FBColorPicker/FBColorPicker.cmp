<aura:component >
	
	<aura:attribute name="colorCode" type="string" default="#5679C0"/>
	<aura:attribute name="rcolorCode" type="string" default="#5679C0"/>
	<aura:attribute name="attrToReflect" type="string" default=""/>

	<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

	<div class="slds-color-picker">
	  <div class="slds-color-picker__summary">	    
	    <button onclick="{!c.openBox}" class="slds-button slds-color-picker__summary-button slds-button_icon slds-button_icon-more" title="Choose Color">
		    <span class="slds-swatch" style="{!'background: '+v.colorCode}">
		        <span class="slds-assistive-text">#5679C0</span>
		    </span>
		    <lightning:icon iconName="utility:down" size="small" class="slds-m-left_xx-small"/>
		    <span class="slds-assistive-text">Choose a color. Current color: {!v.colorCode}</span>
	    </button>
	    <div class="slds-form-element slds-color-picker__summary-input">
		    <div class="slds-form-element__control">
		        <lightning:input type="text" value="{!v.colorCode}" label="color" variant="label-hidden"/>
		        <!--
		        <input type="text" id="color-picker-summary-input" class="slds-input" placeholder="Placeholder Text" value="#5679C0" />
				-->
		    </div>
	    </div>
	  </div>

	  <div style="position:absolute" aura:id="colorbox" class="slds-popover slds-color-picker__selector slds-hide" role="dialog" aria-label="Choose a color" aria-describedby="dialog-body-id-10">
	    <div class="slds-popover__body" id="dialog-body-id-10">
	      <ul class="slds-color-picker__swatches" role="listbox">
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="0">
	            <span class="slds-swatch" style="background: rgb(227, 171, 236);">
	              <span class="slds-assistive-text">#e3abec</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(194, 219, 247);">
	              <span class="slds-assistive-text">#c2dbf7</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(159, 214, 255);">
	              <span class="slds-assistive-text">#9fd6ff</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(157, 231, 218);">
	              <span class="slds-assistive-text">#9de7da</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(157, 240, 192);">
	              <span class="slds-assistive-text">#9df0c0</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(255, 240, 153);">
	              <span class="slds-assistive-text">#fff099</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(254, 212, 154);">
	              <span class="slds-assistive-text">#fed49a</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(208, 115, 224);">
	              <span class="slds-assistive-text">#d073e0</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(134, 186, 243);">
	              <span class="slds-assistive-text">#86baf3</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(94, 187, 255);">
	              <span class="slds-assistive-text">#5ebbff</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(68, 216, 190);">
	              <span class="slds-assistive-text">#44d8be</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(59, 226, 130);">
	              <span class="slds-assistive-text">#3be282</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(255, 230, 84);">
	              <span class="slds-assistive-text">#ffe654</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(255, 183, 88);">
	              <span class="slds-assistive-text">#ffb758</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(189, 53, 189);">
	              <span class="slds-assistive-text">#bd35bd</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(87, 121, 193);">
	              <span class="slds-assistive-text">#5779c1</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(94, 187, 255);">
	              <span class="slds-assistive-text">#5ebbff</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(0, 174, 169);">
	              <span class="slds-assistive-text">#00aea9</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(60, 186, 76);">
	              <span class="slds-assistive-text">#3cba4c</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(245, 188, 37);">
	              <span class="slds-assistive-text">#f5bc25</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(249, 146, 33);">
	              <span class="slds-assistive-text">#f99221</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(88, 13, 140);">
	              <span class="slds-assistive-text">#580d8c</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(0, 25, 112);">
	              <span class="slds-assistive-text">#001970</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(10, 35, 153);">
	              <span class="slds-assistive-text">#0a2399</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(11, 116, 119);">
	              <span class="slds-assistive-text">#0b7477</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(11, 107, 80);">
	              <span class="slds-assistive-text">#0b6b50</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(182, 126, 17);">
	              <span class="slds-assistive-text">#b67e11</span>
	            </span>
	          </a>
	        </li>
	        <li class="slds-color-picker__swatch" role="presentation">
	          <a onclick="{!c.updateColor}" id="b85d0d" class="slds-color-picker__swatch-trigger" href="javascript:void(0)" role="option" tabindex="-1">
	            <span class="slds-swatch" style="background: rgb(184, 93, 13);">
	              <span class="slds-assistive-text">#b85d0d</span>
	            </span>
	          </a>
	        </li>
	      </ul>
	    </div>
	    <footer class="slds-popover__footer">
	      	<div class="slds-color-picker__selector-footer">
	        	<lightning:button onclick="{!c.resetColor}" label="Cancel"/>
	        	<lightning:button variant="brand" onclick="{!c.selectColor}" label="Done"/>
	      	</div>
	    </footer>
	  </div>
	</div>
</aura:component>